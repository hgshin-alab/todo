<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo 관리 앱</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1>📝 Todo 관리 앱</h1>
            <p>할 일을 효율적으로 관리해보세요!</p>
        </header>

        <div class="todays-todos-section">
            <h2>📌 오늘의 할 일</h2>
            <div id="todays-todos" class="todays-todos-list">
                <!-- 오늘의 할 일이 여기에 동적으로 추가됩니다 -->
            </div>
            <div id="todays-empty-state" class="todays-empty-state">
                <p>오늘 마감인 할 일이 없습니다!</p>
                <button onclick="todoApp.openAddTodoModal(todoApp.formatDateToString(new Date()))" class="add-today-todo-btn">
                    오늘의 할 일 추가하기
                </button>
            </div>
        </div>

        <div class="todo-input-section">
            <div class="add-todo-prompt">
                <button id="add-todo-btn" class="add-todo-main-btn">
                    ➕ 새로운 할 일 추가하기
                </button>
            </div>
        </div>

        <div class="view-toggle-section">
            <button class="view-btn" data-view="list">📋 목록으로 보기</button>
            <button class="view-btn active" data-view="calendar">📅 달력으로 보기</button>
        </div>

        <!-- 목록 뷰 -->
        <div id="list-view" class="todo-list-section" style="display: none;">
            <div class="filter-section">
                <button class="filter-btn active" data-filter="all">전체</button>
                <button class="filter-btn" data-filter="pending">미완료</button>
                <button class="filter-btn" data-filter="completed">완료</button>
            </div>

            <div class="todo-stats">
                <span id="total-count">전체: 0</span>
                <span id="pending-count">미완료: 0</span>
                <span id="completed-count">완료: 0</span>
            </div>

            <ul id="todo-list">
                <!-- 할 일 목록이 여기에 동적으로 추가됩니다 -->
            </ul>
            <div id="empty-state" class="empty-state">
                <p>🎉 할 일이 없습니다!</p>
                <p>새로운 할 일을 추가해보세요.</p>
            </div>
        </div>

        <!-- 달력 뷰 -->
        <div id="calendar-view" class="calendar-section">
            <div class="calendar-header">
                <button id="prev-month" class="calendar-nav-btn">◀</button>
                <h3 id="current-month-year"></h3>
                <button id="next-month" class="calendar-nav-btn">▶</button>
            </div>
            <div class="calendar-weekdays">
                <div class="weekday">일</div>
                <div class="weekday">월</div>
                <div class="weekday">화</div>
                <div class="weekday">수</div>
                <div class="weekday">목</div>
                <div class="weekday">금</div>
                <div class="weekday">토</div>
            </div>
            <div id="calendar-grid" class="calendar-grid">
                <!-- 달력 날짜들이 여기에 동적으로 추가됩니다 -->
            </div>
        </div>


    </div>

    <!-- 날짜별 할 일 모달 -->
    <div id="todo-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-date"></h3>
                <button id="close-modal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <ul id="modal-todo-list"></ul>
            </div>
        </div>
    </div>

    <!-- 할 일 상세 편집 모달 -->
    <div id="todo-detail-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>할 일 상세보기</h3>
                <button id="close-detail-modal" class="close-btn">✕</button>
            </div>
            <div class="modal-body">
                <div class="todo-detail-content">
                    <div class="detail-field">
                        <label>제목</label>
                        <h4 id="detail-title"></h4>
                    </div>
                    <div class="detail-field">
                        <label>상세 내용</label>
                        <p id="detail-description"></p>
                    </div>
                    <div class="detail-field">
                        <label>생성일</label>
                        <span id="detail-created"></span>
                    </div>
                    <div class="detail-field">
                        <label>마감일</label>
                        <span id="detail-due-date"></span>
                    </div>
                    <div class="detail-field">
                        <label>상태</label>
                        <span id="detail-status"></span>
                    </div>
                    <div class="detail-field">
                        <label>태그</label>
                        <div id="detail-tags"></div>
                    </div>
                </div>
                <div class="detail-actions">
                    <button id="edit-detail-todo" class="action-btn">편집하기</button>
                    <button id="toggle-detail-todo" class="action-btn">완료 토글</button>
                    <button id="delete-detail-todo" class="action-btn delete-btn">삭제</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 할 일 편집 모달 -->
    <div id="edit-todo-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>할 일 편집하기</h3>
                <button id="close-edit-modal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="edit-todo-form">
                    <div class="modal-input-group">
                        <input 
                            type="text" 
                            id="edit-todo-title" 
                            placeholder="할 일 제목을 입력하세요..." 
                            required
                        >
                        <textarea 
                            id="edit-todo-description" 
                            placeholder="상세 내용을 입력하세요 (선택사항)"
                            rows="4"
                        ></textarea>
                        <div class="tag-input-section">
                            <label for="edit-todo-tags">태그</label>
                            <input 
                                type="text" 
                                id="edit-todo-tags" 
                                placeholder="태그를 입력하세요 (예: 업무, 개인, 긴급)"
                                title="쉼표(,)로 구분하여 여러 태그를 입력할 수 있습니다"
                            >
                            <div class="tag-suggestions">
                                <span class="tag-suggestion" data-tag="업무">업무</span>
                                <span class="tag-suggestion" data-tag="개인">개인</span>
                                <span class="tag-suggestion" data-tag="긴급">긴급</span>
                                <span class="tag-suggestion" data-tag="중요">중요</span>
                                <span class="tag-suggestion" data-tag="학습">학습</span>
                                <span class="tag-suggestion" data-tag="건강">건강</span>
                                <span class="tag-suggestion" data-tag="취미">취미</span>
                                <span class="tag-suggestion" data-tag="쇼핑">쇼핑</span>
                            </div>
                        </div>
                        <input 
                            type="date" 
                            id="edit-todo-date" 
                            title="마감일을 선택하세요 (선택사항)"
                        >
                    </div>
                    <div class="modal-form-actions">
                        <button type="button" id="cancel-edit-todo" class="cancel-btn">취소</button>
                        <button type="submit" class="submit-btn">수정하기</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- 할 일 추가 모달 -->
    <div id="add-todo-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>새로운 할 일 추가</h3>
                <button id="close-add-modal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="todo-form">
                    <div class="modal-input-group">
                        <input 
                            type="text" 
                            id="todo-title" 
                            placeholder="할 일 제목을 입력하세요..." 
                            required
                        >
                        <textarea 
                            id="todo-description" 
                            placeholder="상세 내용을 입력하세요 (선택사항)"
                            rows="4"
                        ></textarea>
                        <div class="tag-input-section">
                            <label for="todo-tags">태그</label>
                            <input 
                                type="text" 
                                id="todo-tags" 
                                placeholder="태그를 입력하세요 (예: 업무, 개인, 긴급)"
                                title="쉼표(,)로 구분하여 여러 태그를 입력할 수 있습니다"
                            >
                            <div class="tag-suggestions">
                                <span class="tag-suggestion" onclick="todoApp.addTagSuggestion('업무')">업무</span>
                                <span class="tag-suggestion" onclick="todoApp.addTagSuggestion('개인')">개인</span>
                                <span class="tag-suggestion" onclick="todoApp.addTagSuggestion('긴급')">긴급</span>
                                <span class="tag-suggestion" onclick="todoApp.addTagSuggestion('중요')">중요</span>
                                <span class="tag-suggestion" onclick="todoApp.addTagSuggestion('학습')">학습</span>
                                <span class="tag-suggestion" onclick="todoApp.addTagSuggestion('건강')">건강</span>
                                <span class="tag-suggestion" onclick="todoApp.addTagSuggestion('취미')">취미</span>
                                <span class="tag-suggestion" onclick="todoApp.addTagSuggestion('쇼핑')">쇼핑</span>
                            </div>
                        </div>
                        <input 
                            type="date" 
                            id="todo-date" 
                            title="마감일을 선택하세요 (선택사항)"
                        >
                    </div>
                    <div class="modal-form-actions">
                        <button type="button" id="cancel-add-todo" class="cancel-btn">취소</button>
                        <button type="submit" class="submit-btn">추가하기</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 